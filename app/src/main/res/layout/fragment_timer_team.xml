<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:tools="http://schemas.android.com/tools"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:android="http://schemas.android.com/apk/res/android">

    <data>
        <import type="com.google.firebase.auth.FirebaseAuth"/>
        <import type="android.view.View"/>
        <import type="com.example.betterlife.newwork.LoadApiStatus" />
        <variable
            name="viewModel"
            type="com.example.betterlife.timer.team.TimerTeamDateViewModel" />

    </data>

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent">

        <com.airbnb.lottie.LottieAnimationView
            android:id="@+id/animationView"
            android:layout_width="0dp"
            android:layout_height="0dp"
            android:elevation="8dp"
            android:visibility="@{viewModel.status == LoadApiStatus.LOADING ? View.VISIBLE : View.GONE}"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent"
            app:lottie_autoPlay="true"
            app:lottie_loop="true"
            app:lottie_rawRes="@raw/loading"
            tools:visibility="invisible" />

        <ScrollView
            android:layout_width="0dp"
            android:layout_height="0dp"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintHorizontal_bias="0.0"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent"
            app:layout_constraintVertical_bias="0.264">

            <androidx.constraintlayout.widget.ConstraintLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content">


                <ImageView
                    android:id="@+id/button_back"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginStart="16dp"
                    android:layout_marginTop="16dp"
                    android:elevation="3dp"
                    android:onClick="@{() -> viewModel.leaveTimer()}"
                    app:layout_constraintStart_toStartOf="parent"
                    app:layout_constraintTop_toTopOf="parent"
                    app:srcCompat="@drawable/icons_44px_back01"
                    tools:visibility="visible" />

                <androidx.constraintlayout.widget.ConstraintLayout
                    android:id="@+id/Constraint_info"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:background="@color/white_f5f6f8"
                    app:layout_constraintBottom_toBottomOf="parent"
                    app:layout_constraintEnd_toEndOf="parent"
                    app:layout_constraintHorizontal_bias="0.0"
                    app:layout_constraintStart_toStartOf="parent"
                    app:layout_constraintTop_toTopOf="parent"
                    app:layout_constraintVertical_bias="0.0"
                    tools:visibility="visible">

                    <TextView
                        android:id="@+id/text_timer_title"
                        android:layout_width="0dp"
                        android:layout_height="40dp"
                        android:layout_marginStart="32dp"
                        android:layout_marginTop="32dp"
                        android:layout_marginEnd="32dp"
                        android:fontFamily="@font/noto_sans"
                        android:gravity="center_horizontal|center_vertical"
                        android:hint="標題"
                        android:letterSpacing="0.15"
                        android:text="@{viewModel.info.name}"
                        android:textColor="@color/black"
                        android:textSize="18sp"
                        app:layout_constraintEnd_toEndOf="parent"
                        app:layout_constraintStart_toStartOf="parent"
                        app:layout_constraintTop_toTopOf="parent" />

                    <androidx.constraintlayout.widget.ConstraintLayout
                        android:id="@+id/Constraint_total"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginStart="16dp"
                        android:layout_marginTop="16dp"
                        android:layout_marginEnd="16dp"
                        android:background="@drawable/bg_other_item"
                        android:elevation="@dimen/elevation_all"
                        app:layout_constraintEnd_toEndOf="parent"
                        app:layout_constraintStart_toStartOf="parent"
                        app:layout_constraintTop_toBottomOf="@+id/text_timer_title">

                        <TextView
                            android:id="@+id/text_timer_sumText"
                            android:layout_width="wrap_content"
                            android:layout_height="30dp"
                            android:layout_marginStart="16dp"
                            android:layout_marginTop="16dp"
                            android:gravity="center_horizontal|center_vertical"
                            android:letterSpacing="0.15"
                            android:text="@string/text_sum"
                            android:textColor="@color/black"
                            android:textSize="14sp"
                            app:layout_constraintStart_toStartOf="parent"
                            app:layout_constraintTop_toTopOf="parent" />

                        <TextView
                            android:id="@+id/text_timer_sum"
                            android:layout_width="wrap_content"
                            android:layout_height="30dp"
                            android:layout_marginTop="16dp"
                            android:layout_marginEnd="16dp"
                            android:gravity="center_horizontal|center_vertical"
                            android:hint="0 分鐘"
                            android:letterSpacing="0.15"
                            android:text=""
                            android:textColor="@color/black"
                            android:textSize="14sp"
                            app:layout_constraintEnd_toEndOf="parent"
                            app:layout_constraintTop_toTopOf="parent" />

                        <TextView
                            android:id="@+id/text_timer_targetText"
                            android:layout_width="wrap_content"
                            android:layout_height="30dp"
                            android:layout_marginStart="16dp"
                            android:layout_marginTop="16dp"
                            android:gravity="center_horizontal|center_vertical"
                            android:letterSpacing="0.15"
                            android:text="@string/text_target"
                            android:textColor="@color/black"
                            android:textSize="14sp"
                            app:layout_constraintStart_toStartOf="parent"
                            app:layout_constraintTop_toBottomOf="@+id/text_timer_sumText"
                            tools:visibility="visible" />

                        <TextView
                            android:id="@+id/text_timer_target"
                            android:layout_width="wrap_content"
                            android:layout_height="30dp"
                            android:layout_marginTop="16dp"
                            android:gravity="center_horizontal|center_vertical"
                            android:hint="0 分鐘"
                            android:letterSpacing="0.15"
                            android:text='@{String.valueOf(viewModel.info.target)+" 分鐘"}'
                            android:textColor="@color/black"
                            android:textSize="14sp"
                            app:layout_constraintEnd_toEndOf="@+id/text_timer_sum"
                            app:layout_constraintTop_toBottomOf="@+id/text_timer_sum"
                            tools:visibility="visible" />

                        <ProgressBar
                            android:id="@+id/progressBar"
                            style="?android:attr/progressBarStyleHorizontal"
                            android:layout_width="0dp"
                            android:layout_height="29dp"
                            android:layout_marginStart="16dp"
                            android:layout_marginTop="16dp"
                            android:layout_marginEnd="16dp"
                            android:layout_marginBottom="16dp"
                            android:max="@{viewModel.info.target}"
                            android:min="0"
                            android:progress="@{viewModel.info.progressTimeTotal}"
                            android:progressDrawable="@drawable/custom_progress_bar_horizontal_black"
                            android:secondaryProgress="100"
                            android:visibility="visible"
                            app:layout_constraintBottom_toBottomOf="parent"
                            app:layout_constraintEnd_toEndOf="parent"
                            app:layout_constraintStart_toStartOf="parent"
                            app:layout_constraintTop_toBottomOf="@+id/text_timer_targetText"
                            tools:progress="50"
                            tools:visibility="visible" />

                        <ProgressBar
                            android:id="@+id/progressBarOwn"
                            style="?android:attr/progressBarStyleHorizontal"
                            android:layout_width="0dp"
                            android:layout_height="29dp"
                            android:layout_marginStart="16dp"
                            android:layout_marginTop="16dp"
                            android:layout_marginEnd="16dp"
                            android:layout_marginBottom="16dp"
                            android:max="@{viewModel.info.target}"
                            android:min="0"
                            android:progress="@{viewModel.info.progressTimeOwn}"
                            android:progressDrawable="@drawable/custom_progress_bar_horizontal_blue"
                            android:secondaryProgress="0"
                            android:visibility="visible"
                            app:layout_constraintBottom_toBottomOf="parent"
                            app:layout_constraintEnd_toEndOf="parent"
                            app:layout_constraintStart_toStartOf="parent"
                            app:layout_constraintTop_toBottomOf="@+id/text_timer_targetText"
                            tools:progress="50"
                            tools:visibility="visible" />

                        <TextView
                            android:id="@+id/text_plan_progress"
                            android:layout_width="wrap_content"
                            android:layout_height="0dp"
                            android:gravity="center"
                            android:elevation="1dp"
                            android:hint="50%"
                            android:text='@{String.valueOf(((viewModel.info.progressTimeTotal*100)/viewModel.info.target))+" %"}'
                            android:textColor="@color/white"
                            app:layout_constraintBottom_toBottomOf="@+id/progressBar"
                            app:layout_constraintEnd_toEndOf="@+id/progressBar"
                            app:layout_constraintStart_toStartOf="@+id/progressBar"
                            app:layout_constraintTop_toTopOf="@+id/progressBar"
                            app:layout_constraintVertical_bias="0.0"
                            tools:visibility="visible" />
                    </androidx.constraintlayout.widget.ConstraintLayout>

                    <androidx.constraintlayout.widget.ConstraintLayout
                        android:id="@+id/Constraint_daily"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginStart="16dp"
                        android:layout_marginTop="16dp"
                        android:layout_marginEnd="16dp"
                        android:layout_marginBottom="16dp"
                        android:background="@drawable/bg_other_item"
                        android:elevation="@dimen/elevation_all"
                        app:layout_constraintBottom_toBottomOf="parent"
                        app:layout_constraintEnd_toEndOf="parent"
                        app:layout_constraintStart_toStartOf="parent"
                        app:layout_constraintTop_toBottomOf="@+id/Constraint_total">

                        <TextView
                            android:id="@+id/text_timer_dailyText"
                            android:layout_width="wrap_content"
                            android:layout_height="30dp"
                            android:layout_marginStart="16dp"
                            android:layout_marginTop="16dp"
                            android:gravity="center_horizontal|center_vertical"
                            android:letterSpacing="0.15"
                            android:text="@string/text_timer_targetText"
                            android:textColor="@color/black"
                            android:textSize="14sp"
                            app:layout_constraintStart_toStartOf="parent"
                            app:layout_constraintTop_toTopOf="parent"
                            tools:visibility="visible" />

                        <TextView
                            android:id="@+id/text_timer_daily"
                            android:layout_width="wrap_content"
                            android:layout_height="30dp"
                            android:layout_marginTop="16dp"
                            android:layout_marginEnd="16dp"
                            android:gravity="center_horizontal|center_vertical"
                            android:hint="0 分鐘"
                            android:letterSpacing="0.15"
                            android:text='@{String.valueOf(viewModel.averageDailyTime)+" 分鐘"}'
                            android:textColor="@color/black"
                            android:textSize="14sp"
                            app:layout_constraintEnd_toEndOf="parent"
                            app:layout_constraintTop_toTopOf="parent"
                            tools:visibility="visible" />

                        <TextView
                            android:id="@+id/text_timer_dailyTargetText"
                            android:layout_width="wrap_content"
                            android:layout_height="30dp"
                            android:layout_marginTop="16dp"
                            android:gravity="center_horizontal|center_vertical"
                            android:letterSpacing="0.15"
                            android:text="@string/text_timer_dailyTargetText"
                            android:textColor="@color/black"
                            android:textSize="14sp"
                            app:layout_constraintStart_toStartOf="@+id/text_timer_dailyText"
                            app:layout_constraintTop_toBottomOf="@+id/text_timer_dailyText"
                            tools:visibility="visible" />

                        <TextView
                            android:id="@+id/text_timer_dailyTarget"
                            android:layout_width="wrap_content"
                            android:layout_height="30dp"
                            android:layout_marginTop="16dp"
                            android:gravity="center_horizontal|center_vertical"
                            android:hint="0 分鐘"
                            android:letterSpacing="0.15"
                            android:text='@{String.valueOf(viewModel.info.dailyTarget)+" 分鐘"}'
                            android:textColor="@color/black"
                            android:textSize="14sp"
                            app:layout_constraintEnd_toEndOf="@+id/text_timer_daily"
                            app:layout_constraintTop_toBottomOf="@+id/text_timer_daily"
                            tools:visibility="visible" />

                        <com.github.mikephil.charting.charts.BarChart
                            android:id="@+id/BarChart_daily"
                            android:layout_width="0dp"
                            android:layout_height="250dp"
                            android:layout_marginHorizontal="16dp"
                            android:layout_marginVertical="16dp"
                            android:layout_marginTop="16dp"
                            android:layout_marginBottom="16dp"
                            app:layout_constraintBottom_toBottomOf="parent"
                            app:layout_constraintEnd_toEndOf="@+id/text_timer_dailyTarget"
                            app:layout_constraintStart_toStartOf="@+id/text_timer_dailyTargetText"
                            app:layout_constraintTop_toBottomOf="@+id/text_timer_dailyTargetText"
                            tools:visibility="visible">

                        </com.github.mikephil.charting.charts.BarChart>
                    </androidx.constraintlayout.widget.ConstraintLayout>


                </androidx.constraintlayout.widget.ConstraintLayout>

                <androidx.constraintlayout.widget.ConstraintLayout
                    android:id="@+id/Constraint_rank"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    app:layout_constraintBottom_toBottomOf="parent"
                    app:layout_constraintEnd_toEndOf="parent"
                    app:layout_constraintStart_toStartOf="parent"
                    app:layout_constraintTop_toBottomOf="@+id/Constraint_info"
                    tools:visibility="visible">

                    <androidx.constraintlayout.widget.ConstraintLayout
                        android:id="@+id/Constraint_rankText"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginStart="16dp"
                        android:layout_marginEnd="16dp"
                        android:layout_marginBottom="32dp"
                        android:background="@drawable/border_circle_line_white"
                        android:elevation="@dimen/elevation_all"
                        app:layout_constraintBottom_toBottomOf="parent"
                        app:layout_constraintEnd_toEndOf="parent"
                        app:layout_constraintHorizontal_bias="0.0"
                        app:layout_constraintStart_toStartOf="parent"
                        app:layout_constraintTop_toTopOf="parent"
                        app:layout_constraintVertical_bias="0.0">

                        <androidx.constraintlayout.widget.ConstraintLayout
                            android:id="@+id/profile_rank_1"
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:layout_marginTop="16dp"
                            app:layout_constraintEnd_toEndOf="parent"
                            app:layout_constraintStart_toStartOf="parent"
                            app:layout_constraintTop_toBottomOf="@+id/imageView">


                            <TextView
                                android:id="@+id/badge_rank_1"
                                android:layout_width="40dp"
                                android:layout_height="40dp"
                                android:layout_marginStart="16dp"
                                android:background="@drawable/bg_rank"
                                android:elevation="@dimen/elevation_all"
                                android:fontFamily="@font/noto_sans"
                                android:gravity="center"
                                android:text="1"
                                android:textColor="@{viewModel.rank[0].userName == FirebaseAuth.getInstance().currentUser.uid ? @color/red_heart_c73e3a : @color/black}"
                                android:textSize="14dp"
                                app:layout_constraintBottom_toBottomOf="parent"
                                app:layout_constraintStart_toStartOf="parent"
                                app:layout_constraintTop_toTopOf="parent" />


                            <androidx.cardview.widget.CardView
                                android:id="@+id/card_view_rank_1_image"
                                android:layout_width="60dp"
                                android:layout_height="60dp"
                                android:layout_marginStart="32dp"
                                android:layout_marginTop="16dp"
                                android:layout_marginBottom="16dp"
                                android:contentDescription="Your profile image"
                                app:cardCornerRadius="30dp"
                                app:layout_constraintBottom_toBottomOf="parent"
                                app:layout_constraintStart_toEndOf="@+id/badge_rank_1"
                                app:layout_constraintTop_toTopOf="parent">

                                <ImageView
                                    android:id="@+id/profile_rank_1_image"
                                    android:layout_width="60dp"
                                    android:layout_height="60dp"
                                    android:contentDescription="Your profile image"
                                    app:glide="@{viewModel.rank[0].userImage}"
                                    tools:srcCompat="@drawable/_01_arm_wrestling" />
                            </androidx.cardview.widget.CardView>

                            <TextView
                                android:id="@+id/rank_1_user_name"
                                android:layout_width="0dp"
                                android:layout_height="0dp"
                                android:layout_marginStart="16dp"
                                android:layout_marginEnd="16dp"
                                android:fontFamily="@font/noto_sans"
                                android:letterSpacing="0.15"
                                android:text="@{viewModel.rank[0].userName}"
                                android:textColor="@{viewModel.rank[0].userName == FirebaseAuth.getInstance().currentUser.uid ? @color/red_heart_c73e3a : @color/black}"
                                android:textSize="16sp"
                                app:layout_constraintBottom_toTopOf="@+id/rank_1_accumulated"
                                app:layout_constraintEnd_toEndOf="parent"
                                app:layout_constraintHorizontal_bias="0.0"
                                app:layout_constraintStart_toEndOf="@+id/card_view_rank_1_image"
                                app:layout_constraintTop_toTopOf="@+id/card_view_rank_1_image"
                                tools:text="JJ" />

                            <TextView
                                android:id="@+id/rank_1_accumulated"
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_marginTop="4dp"
                                android:fontFamily="@font/noto_sans"
                                android:letterSpacing="0.15"
                                android:visibility="@{viewModel.rank[0] == null ? View.GONE : View.VISIBLE }"
                                android:text='@{"累積 "+viewModel.rank[0].totalTime + " 分鐘"}'
                                android:textColor="@{viewModel.rank[0].userName == FirebaseAuth.getInstance().currentUser.uid ? @color/red_heart_c73e3a : @color/black}"
                                android:textSize="13sp"
                                app:layout_constraintBottom_toBottomOf="@+id/card_view_rank_1_image"
                                app:layout_constraintEnd_toEndOf="@+id/rank_1_user_name"
                                app:layout_constraintStart_toStartOf="@+id/rank_1_user_name"
                                app:layout_constraintTop_toBottomOf="@+id/rank_1_user_name"
                                tools:text="累計100分鐘" />
                        </androidx.constraintlayout.widget.ConstraintLayout>

                        <androidx.constraintlayout.widget.ConstraintLayout
                            android:id="@+id/profile_rank_2"
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            app:layout_constraintEnd_toEndOf="parent"
                            app:layout_constraintStart_toStartOf="parent"
                            app:layout_constraintTop_toBottomOf="@+id/profile_rank_1">


                            <TextView
                                android:id="@+id/badge_rank_2"
                                android:layout_width="40dp"
                                android:layout_height="40dp"
                                android:layout_marginStart="16dp"
                                android:background="@drawable/bg_rank"
                                android:elevation="@dimen/elevation_all"
                                android:fontFamily="@font/noto_sans"
                                android:gravity="center"
                                android:text="2"
                                android:textColor="@{viewModel.rank[1].userName == FirebaseAuth.getInstance().currentUser.uid ? @color/red_heart_c73e3a : @color/black}"
                                android:textSize="14dp"
                                app:layout_constraintBottom_toBottomOf="parent"
                                app:layout_constraintStart_toStartOf="parent"
                                app:layout_constraintTop_toTopOf="parent" />


                            <androidx.cardview.widget.CardView
                                android:id="@+id/card_view_rank_2_image"
                                android:layout_width="60dp"
                                android:layout_height="60dp"
                                android:layout_marginStart="32dp"
                                android:layout_marginTop="16dp"
                                android:layout_marginBottom="16dp"
                                android:contentDescription="Your profile image"
                                app:cardCornerRadius="30dp"
                                app:layout_constraintBottom_toBottomOf="parent"
                                app:layout_constraintStart_toEndOf="@+id/badge_rank_2"
                                app:layout_constraintTop_toTopOf="parent">

                                <ImageView
                                    android:id="@+id/profile_rank_2_image"
                                    android:layout_width="60dp"
                                    android:layout_height="60dp"
                                    android:contentDescription="Your profile image"
                                    app:glide="@{viewModel.rank[1].userImage}"
                                    tools:srcCompat="@drawable/_01_arm_wrestling" />
                            </androidx.cardview.widget.CardView>

                            <TextView
                                android:id="@+id/rank_2_user_name"
                                android:layout_width="0dp"
                                android:layout_height="0dp"
                                android:layout_marginStart="16dp"
                                android:layout_marginEnd="16dp"
                                android:fontFamily="@font/noto_sans"
                                android:letterSpacing="0.15"
                                android:text="@{viewModel.rank[1].userName}"
                                android:textColor="@{viewModel.rank[1].userName == FirebaseAuth.getInstance().currentUser.uid ? @color/red_heart_c73e3a : @color/black}"
                                android:textSize="16sp"
                                app:layout_constraintBottom_toTopOf="@+id/rank_2_accumulated"
                                app:layout_constraintEnd_toEndOf="parent"
                                app:layout_constraintStart_toEndOf="@+id/card_view_rank_2_image"
                                app:layout_constraintTop_toTopOf="@+id/card_view_rank_2_image"
                                tools:text="JJ" />

                            <TextView
                                android:id="@+id/rank_2_accumulated"
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_marginTop="4dp"
                                android:fontFamily="@font/noto_sans"
                                android:letterSpacing="0.15"
                                android:visibility="@{viewModel.rank[1] == null ? View.GONE : View.VISIBLE }"
                                android:text='@{"累積 "+viewModel.rank[1].totalTime + " 分鐘"}'
                                android:textColor="@{viewModel.rank[1].userName == FirebaseAuth.getInstance().currentUser.uid ? @color/red_heart_c73e3a : @color/black}"
                                android:textSize="13sp"
                                app:layout_constraintBottom_toBottomOf="@+id/card_view_rank_2_image"
                                app:layout_constraintEnd_toEndOf="@+id/rank_2_user_name"
                                app:layout_constraintStart_toStartOf="@+id/rank_2_user_name"
                                app:layout_constraintTop_toBottomOf="@+id/rank_2_user_name"
                                tools:text="累計100分鐘" />
                        </androidx.constraintlayout.widget.ConstraintLayout>

                        <androidx.constraintlayout.widget.ConstraintLayout
                            android:id="@+id/profile_rank_3"
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:layout_marginTop="0dp"
                            app:layout_constraintEnd_toEndOf="parent"
                            app:layout_constraintStart_toStartOf="parent"
                            app:layout_constraintTop_toBottomOf="@+id/profile_rank_2">


                            <TextView
                                android:id="@+id/badge_rank_3"
                                android:layout_width="40dp"
                                android:layout_height="40dp"
                                android:layout_marginStart="16dp"
                                android:background="@drawable/bg_rank"
                                android:elevation="@dimen/elevation_all"
                                android:fontFamily="@font/noto_sans"
                                android:gravity="center"
                                android:text="3"
                                android:textColor="@{viewModel.rank[2].userName == FirebaseAuth.getInstance().currentUser.uid ? @color/red_heart_c73e3a : @color/black}"
                                android:textSize="14dp"
                                app:layout_constraintBottom_toBottomOf="parent"
                                app:layout_constraintStart_toStartOf="parent"
                                app:layout_constraintTop_toTopOf="parent" />


                            <androidx.cardview.widget.CardView
                                android:id="@+id/card_view_rank_3_image"
                                android:layout_width="60dp"
                                android:layout_height="60dp"
                                android:layout_marginStart="32dp"
                                android:layout_marginTop="16dp"
                                android:layout_marginBottom="16dp"
                                android:contentDescription="Your profile image"
                                app:cardCornerRadius="30dp"
                                app:layout_constraintBottom_toBottomOf="parent"
                                app:layout_constraintStart_toEndOf="@+id/badge_rank_3"
                                app:layout_constraintTop_toTopOf="parent">

                                <ImageView
                                    android:id="@+id/profile_rank_3_image"
                                    android:layout_width="60dp"
                                    android:layout_height="60dp"
                                    android:contentDescription="Your profile image"
                                    app:glide="@{viewModel.rank[2].userImage}"
                                    tools:srcCompat="@drawable/_01_arm_wrestling" />
                            </androidx.cardview.widget.CardView>

                            <TextView
                                android:id="@+id/rank_3_user_name"
                                android:layout_width="0dp"
                                android:layout_height="0dp"
                                android:layout_marginStart="16dp"
                                android:layout_marginEnd="16dp"
                                android:fontFamily="@font/noto_sans"
                                android:letterSpacing="0.15"
                                android:text="@{viewModel.rank[2].userName}"
                                android:textColor="@{viewModel.rank[2].userName == FirebaseAuth.getInstance().currentUser.uid ? @color/red_heart_c73e3a : @color/black}"
                                android:textSize="16sp"
                                app:layout_constraintBottom_toTopOf="@+id/rank_3_accumulated"
                                app:layout_constraintEnd_toEndOf="parent"
                                app:layout_constraintStart_toEndOf="@+id/card_view_rank_3_image"
                                app:layout_constraintTop_toTopOf="@+id/card_view_rank_3_image"
                                tools:text="JJ" />

                            <TextView
                                android:id="@+id/rank_3_accumulated"
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_marginTop="4dp"
                                android:fontFamily="@font/noto_sans"
                                android:letterSpacing="0.15"
                                android:visibility="@{viewModel.rank[2] == null ? View.GONE : View.VISIBLE }"
                                android:text='@{"累積 "+viewModel.rank[2].totalTime + " 分鐘"}'
                                android:textColor="@{viewModel.rank[2].userName == FirebaseAuth.getInstance().currentUser.uid ? @color/red_heart_c73e3a : @color/black}"
                                android:textSize="13sp"
                                app:layout_constraintBottom_toBottomOf="@+id/card_view_rank_3_image"
                                app:layout_constraintEnd_toEndOf="@+id/rank_3_user_name"
                                app:layout_constraintStart_toStartOf="@+id/rank_3_user_name"
                                app:layout_constraintTop_toBottomOf="@+id/rank_3_user_name"
                                tools:text="累計100分鐘" />

                        </androidx.constraintlayout.widget.ConstraintLayout>

                        <androidx.constraintlayout.widget.ConstraintLayout
                            android:id="@+id/profile_rank_4"
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:layout_marginTop="0dp"
                            app:layout_constraintEnd_toEndOf="parent"
                            app:layout_constraintStart_toStartOf="parent"
                            app:layout_constraintTop_toBottomOf="@+id/profile_rank_3">


                            <TextView
                                android:id="@+id/badge_rank_4"
                                android:layout_width="40dp"
                                android:layout_height="40dp"
                                android:layout_marginStart="16dp"
                                android:background="@drawable/bg_rank"
                                android:elevation="@dimen/elevation_all"
                                android:fontFamily="@font/noto_sans"
                                android:gravity="center"
                                android:text="4"
                                android:textColor="@{viewModel.rank[3].userName == FirebaseAuth.getInstance().currentUser.uid ? @color/red_heart_c73e3a : @color/black}"
                                android:textSize="14dp"
                                app:layout_constraintBottom_toBottomOf="parent"
                                app:layout_constraintStart_toStartOf="parent"
                                app:layout_constraintTop_toTopOf="parent" />


                            <androidx.cardview.widget.CardView
                                android:id="@+id/card_view_rank_4_image"
                                android:layout_width="60dp"
                                android:layout_height="60dp"
                                android:layout_marginStart="32dp"
                                android:layout_marginTop="16dp"
                                android:layout_marginBottom="16dp"
                                android:contentDescription="Your profile image"
                                app:cardCornerRadius="30dp"
                                app:layout_constraintBottom_toBottomOf="parent"
                                app:layout_constraintStart_toEndOf="@+id/badge_rank_4"
                                app:layout_constraintTop_toTopOf="parent">

                                <ImageView
                                    android:id="@+id/profile_rank_4_image"
                                    android:layout_width="60dp"
                                    android:layout_height="60dp"
                                    android:contentDescription="Your profile image"
                                    app:glide="@{viewModel.rank[3].userImage}"
                                    tools:srcCompat="@drawable/_01_arm_wrestling" />
                            </androidx.cardview.widget.CardView>

                            <TextView
                                android:id="@+id/rank_4_user_name"
                                android:layout_width="0dp"
                                android:layout_height="0dp"
                                android:layout_marginStart="16dp"
                                android:layout_marginEnd="16dp"
                                android:fontFamily="@font/noto_sans"
                                android:letterSpacing="0.15"
                                android:text="@{viewModel.rank[3].userName}"
                                android:textColor="@{viewModel.rank[3].userName == FirebaseAuth.getInstance().currentUser.uid ? @color/red_heart_c73e3a : @color/black}"
                                android:textSize="16sp"
                                app:layout_constraintBottom_toTopOf="@+id/rank_4_accumulated"
                                app:layout_constraintEnd_toEndOf="parent"
                                app:layout_constraintStart_toEndOf="@+id/card_view_rank_4_image"
                                app:layout_constraintTop_toTopOf="@+id/card_view_rank_4_image"
                                tools:text="JJ" />

                            <TextView
                                android:id="@+id/rank_4_accumulated"
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_marginTop="4dp"
                                android:fontFamily="@font/noto_sans"
                                android:letterSpacing="0.15"
                                android:visibility="@{viewModel.rank[3] == null ? View.GONE : View.VISIBLE }"
                                android:text='@{"累積 "+viewModel.rank[3].totalTime + " 分鐘"}'
                                android:textColor="@{viewModel.rank[3].userName == FirebaseAuth.getInstance().currentUser.uid ? @color/red_heart_c73e3a : @color/black}"
                                android:textSize="13sp"
                                app:layout_constraintBottom_toBottomOf="@+id/card_view_rank_4_image"
                                app:layout_constraintEnd_toEndOf="@+id/rank_4_user_name"
                                app:layout_constraintStart_toStartOf="@+id/rank_4_user_name"
                                app:layout_constraintTop_toBottomOf="@+id/rank_4_user_name"
                                tools:text="累計100分鐘" />
                        </androidx.constraintlayout.widget.ConstraintLayout>

                        <androidx.constraintlayout.widget.ConstraintLayout
                            android:id="@+id/profile_rank_5"
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:layout_marginBottom="16dp"
                            app:layout_constraintBottom_toBottomOf="parent"
                            app:layout_constraintEnd_toEndOf="parent"
                            app:layout_constraintStart_toStartOf="parent"
                            app:layout_constraintTop_toBottomOf="@+id/profile_rank_4">


                            <TextView
                                android:id="@+id/badge_rank_5"
                                android:layout_width="40dp"
                                android:layout_height="40dp"
                                android:layout_marginStart="16dp"
                                android:background="@drawable/bg_rank"
                                android:elevation="@dimen/elevation_all"
                                android:fontFamily="@font/noto_sans"
                                android:gravity="center"
                                android:text="5"
                                android:textColor="@{viewModel.rank[4].userName == FirebaseAuth.getInstance().currentUser.uid ? @color/red_heart_c73e3a : @color/black}"
                                android:textSize="14dp"
                                app:layout_constraintBottom_toBottomOf="parent"
                                app:layout_constraintStart_toStartOf="parent"
                                app:layout_constraintTop_toTopOf="parent" />


                            <androidx.cardview.widget.CardView
                                android:id="@+id/card_view_rank_5_image"
                                android:layout_width="60dp"
                                android:layout_height="60dp"
                                android:layout_marginStart="32dp"
                                android:layout_marginTop="16dp"
                                android:layout_marginBottom="16dp"
                                android:contentDescription="Your profile image"
                                app:cardCornerRadius="30dp"
                                app:layout_constraintBottom_toBottomOf="parent"
                                app:layout_constraintStart_toEndOf="@+id/badge_rank_5"
                                app:layout_constraintTop_toTopOf="parent">

                                <ImageView
                                    android:id="@+id/profile_rank_5_image"
                                    android:layout_width="60dp"
                                    android:layout_height="60dp"
                                    android:contentDescription="Your profile image"
                                    app:glide="@{viewModel.rank[4].userImage}"
                                    tools:srcCompat="@drawable/_01_arm_wrestling" />
                            </androidx.cardview.widget.CardView>

                            <TextView
                                android:id="@+id/rank_5_user_name"
                                android:layout_width="0dp"
                                android:layout_height="0dp"
                                android:layout_marginStart="16dp"
                                android:layout_marginEnd="16dp"
                                android:fontFamily="@font/noto_sans"
                                android:letterSpacing="0.15"
                                android:text="@{viewModel.rank[4].userName}"
                                android:textColor="@{viewModel.rank[4].userName == FirebaseAuth.getInstance().currentUser.uid ? @color/red_heart_c73e3a : @color/black}"
                                android:textSize="16sp"
                                app:layout_constraintBottom_toTopOf="@+id/rank_5_accumulated"
                                app:layout_constraintEnd_toEndOf="parent"
                                app:layout_constraintStart_toEndOf="@+id/card_view_rank_5_image"
                                app:layout_constraintTop_toTopOf="@+id/card_view_rank_5_image"
                                tools:text="JJ" />

                            <TextView
                                android:id="@+id/rank_5_accumulated"
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_marginTop="4dp"
                                android:fontFamily="@font/noto_sans"
                                android:letterSpacing="0.15"
                                android:visibility="@{viewModel.rank[4] == null ? View.GONE : View.VISIBLE }"
                                android:text='@{"累積 "+viewModel.rank[4].totalTime + " 分鐘"}'
                                android:textColor="@{viewModel.rank[4].userName == FirebaseAuth.getInstance().currentUser.uid ? @color/red_heart_c73e3a : @color/black}"
                                android:textSize="13sp"
                                app:layout_constraintBottom_toBottomOf="@+id/card_view_rank_5_image"
                                app:layout_constraintEnd_toEndOf="@+id/rank_5_user_name"
                                app:layout_constraintStart_toStartOf="@+id/rank_5_user_name"
                                app:layout_constraintTop_toBottomOf="@+id/rank_5_user_name"
                                tools:text="累計100分鐘" />
                        </androidx.constraintlayout.widget.ConstraintLayout>

                        <TextView
                            android:id="@+id/text_rank"
                            android:layout_width="wrap_content"
                            android:layout_height="0dp"
                            android:fontFamily="@font/noto_sans"
                            android:gravity="center_horizontal|center_vertical"
                            android:letterSpacing="0.15"
                            android:textStyle="bold"
                            android:text="@string/text_rank"
                            android:textAlignment="textStart"
                            android:textColor="@color/black_3f3a3a"
                            android:textSize="16sp"
                            app:layout_constraintBottom_toBottomOf="@+id/imageView"
                            app:layout_constraintEnd_toEndOf="parent"
                            app:layout_constraintHorizontal_bias="0.5"
                            app:layout_constraintStart_toEndOf="@+id/imageView"
                            app:layout_constraintTop_toTopOf="@+id/imageView" />

                        <ImageView
                            android:id="@+id/imageView"
                            android:layout_width="40dp"
                            android:layout_height="30dp"
                            android:layout_marginTop="16dp"
                            app:layout_constraintEnd_toStartOf="@+id/text_rank"
                            app:layout_constraintHorizontal_bias="0.5"
                            app:layout_constraintHorizontal_chainStyle="packed"
                            app:layout_constraintStart_toStartOf="parent"
                            app:layout_constraintTop_toTopOf="parent"
                            app:srcCompat="@drawable/_29_win" />

                    </androidx.constraintlayout.widget.ConstraintLayout>
                </androidx.constraintlayout.widget.ConstraintLayout>
            </androidx.constraintlayout.widget.ConstraintLayout>
        </ScrollView>

    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>